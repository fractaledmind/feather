# frozen_string_literal: true

module Feather
	class Lexer
		module Keywords
			# adapted from: https://github.com/sqlite/sqlite/blob/master/tool/mkkeywordhash.c
			SQLITE_KEYWORDS_WITH_PRIORITIES = [
				["ABORT",							TK::ABORT,				0],
				["ACTION",						TK::ACTION,				0],
				["ADD",								TK::ADD,					1],
				["AFTER",							TK::AFTER,				0],
				["ALL",								TK::ALL,					0],
				["ALTER",							TK::ALTER,				0],
				["ALWAYS",						TK::ALWAYS,				0],
				["ANALYZE",						TK::ANALYZE,			0],
				["AND",								TK::AND,					10],
				["AS",								TK::AS,						10],
				["ASC",								TK::ASC,					0],
				["ATTACH",						TK::ATTACH,				1],
				["AUTOINCREMENT",			TK::AUTOINCR,			0],
				["BEFORE",						TK::BEFORE,				0],
				["BEGIN",							TK::BEGIN,				1],
				["BETWEEN",						TK::BETWEEN,			5],
				["BY",								TK::BY,						10],
				["CASCADE",						TK::CASCADE,			1],
				["CASE",							TK::CASE,					5],
				["CAST",							TK::CAST,					5],
				["CHECK",							TK::CHECK,				1],
				["COLLATE",						TK::COLLATE,			1],
				["COLUMN",						TK::COLUMNKW,			1],
				["COMMIT",						TK::COMMIT,				1],
				["CONFLICT",					TK::CONFLICT,			0],
				["CONSTRAINT",				TK::CONSTRAINT,		1],
				["CREATE",						TK::CREATE,				2],
				["CROSS",							TK::JOIN_KW,			3],
				["CURRENT",						TK::CURRENT,			1],
				["CURRENT_DATE",			TK::CTIME_KW,			1],
				["CURRENT_TIME",			TK::CTIME_KW,			1],
				["CURRENT_TIMESTAMP",	TK::CTIME_KW,			1],
				["DATABASE",					TK::DATABASE,			0],
				["DEFAULT",						TK::DEFAULT,			1],
				["DEFERRED",					TK::DEFERRED,			1],
				["DEFERRABLE",				TK::DEFERRABLE,		1],
				["DELETE",						TK::DELETE,				10],
				["DESC",							TK::DESC,					3],
				["DETACH",						TK::DETACH,				0],
				["DISTINCT",					TK::DISTINCT,			5],
				["DO",								TK::DO,						2],
				["DROP",							TK::DROP,					1],
				["END",								TK::END,					1],
				["EACH",							TK::EACH,					1],
				["ELSE",							TK::ELSE,					2],
				["ESCAPE",						TK::ESCAPE,				4],
				["EXCEPT",						TK::EXCEPT,				4],
				["EXCLUSIVE",					TK::EXCLUSIVE,		1],
				["EXCLUDE",						TK::EXCLUDE,			1],
				["EXISTS",						TK::EXISTS,				4],
				["EXPLAIN",						TK::EXPLAIN,			1],
				["FAIL",							TK::FAIL,					1],
				["FILTER",						TK::FILTER,				4],
				["FIRST",							TK::FIRST,				4],
				["FOLLOWING",					TK::FOLLOWING,		4],
				["FOR",								TK::FOR,					2],
				["FOREIGN",						TK::FOREIGN,			1],
				["FROM",							TK::FROM,					10],
				["FULL",							TK::JOIN_KW,			3],
				["GENERATED",					TK::GENERATED,		1],
				["GLOB",							TK::LIKE_KW,			3],
				["GROUP",							TK::GROUP,				5],
				["GROUPS",						TK::GROUPS,				2],
				["HAVING",						TK::HAVING,				5],
				["IF",								TK::IF,						2],
				["IGNORE",						TK::IGNORE,				1],
				["IMMEDIATE",					TK::IMMEDIATE,		1],
				["IN",								TK::IN,						10],
				["INDEX",							TK::INDEX,				1],
				["INDEXED",						TK::INDEXED,			0],
				["INITIALLY",					TK::INITIALLY,		1],
				["INNER",							TK::JOIN_KW,			1],
				["INSERT",						TK::INSERT,				10],
				["INSTEAD",						TK::INSTEAD,			1],
				["INTERSECT",					TK::INTERSECT,		5],
				["INTO",							TK::INTO,					10],
				["IS",								TK::IS,						5],
				["ISNULL",						TK::ISNULL,				5],
				["JOIN",							TK::JOIN,					5],
				["KEY",								TK::KEY,					1],
				["LAST",							TK::LAST,					4],
				["LEFT",							TK::JOIN_KW,			5],
				["LIKE",							TK::LIKE_KW,			5],
				["LIMIT",							TK::LIMIT,				3],
				["MATCH",							TK::MATCH,				2],
				["MATERIALIZED",			TK::MATERIALIZED,	12],
				["NATURAL",						TK::JOIN_KW,			3],
				["NO",								TK::NO,						2],
				["NOT",								TK::NOT,					10],
				["NOTHING",						TK::NOTHING,			1],
				["NOTNULL",						TK::NOTNULL,			3],
				["NULL",							TK::NULL,					10],
				["NULLS",							TK::NULLS,				3],
				["OF",								TK::OF,						3],
				["OFFSET",						TK::OFFSET,				1],
				["ON",								TK::ON,						1],
				["OR",								TK::OR,						9],
				["ORDER",							TK::ORDER,				10],
				["OTHERS",						TK::OTHERS,				3],
				["OUTER",							TK::JOIN_KW,			5],
				["OVER",							TK::OVER,					3],
				["PARTITION",					TK::PARTITION,		3],
				["PLAN",							TK::PLAN,					0],
				["PRAGMA",						TK::PRAGMA,				0],
				["PRECEDING",					TK::PRECEDING,		3],
				["PRIMARY",						TK::PRIMARY,			1],
				["QUERY",							TK::QUERY,				0],
				["RAISE",							TK::RAISE,				1],
				["RANGE",							TK::RANGE,				3],
				["RECURSIVE",					TK::RECURSIVE,		3],
				["REFERENCES",				TK::REFERENCES,		1],
				["REGEXP",						TK::LIKE_KW,			3],
				["REINDEX",						TK::REINDEX,			1],
				["RELEASE",						TK::RELEASE,			1],
				["RENAME",						TK::RENAME,				1],
				["REPLACE",						TK::REPLACE,			10],
				["RESTRICT",					TK::RESTRICT,			1],
				["RETURNING",					TK::RETURNING,		10],
				["RIGHT",							TK::JOIN_KW,			0],
				["ROLLBACK",					TK::ROLLBACK,			1],
				["ROW",								TK::ROW,					1],
				["ROWS",							TK::ROWS,					1],
				["SAVEPOINT",					TK::SAVEPOINT,		1],
				["SELECT",						TK::SELECT,				10],
				["SET",								TK::SET,					10],
				["TABLE",							TK::TABLE,				1],
				["TEMP",							TK::TEMP,					1],
				["TEMPORARY",					TK::TEMP,					1],
				["THEN",							TK::THEN,					3],
				["TIES",							TK::TIES,					3],
				["TO",								TK::TO,						3],
				["TRANSACTION",				TK::TRANSACTION,	1],
				["TRIGGER",						TK::TRIGGER,			1],
				["UNBOUNDED",					TK::UNBOUNDED,		3],
				["UNION",							TK::UNION,				3],
				["UNIQUE",						TK::UNIQUE,				1],
				["UPDATE",						TK::UPDATE,				10],
				["USING",							TK::USING,				8],
				["VACUUM",						TK::VACUUM,				1],
				["VALUES",						TK::VALUES,				10],
				["VIEW",							TK::VIEW,					1],
				["VIRTUAL",						TK::VIRTUAL,			1],
				["WHEN",							TK::WHEN,					1],
				["WHERE",							TK::WHERE,				10],
				["WINDOW",						TK::WINDOW,				3],
				["WITH",							TK::WITH,					4],
				["WITHOUT",						TK::WITHOUT,			1]
			]
			SQLITE_KEYWORDS_TO_TOKEN_TYPES = SQLITE_KEYWORDS_WITH_PRIORITIES.to_h { [_1,	_2] }
		end
	end
end
